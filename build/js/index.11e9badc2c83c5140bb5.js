(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,n,t){var r=t(17),a=t(40);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},40:function(e,n,t){"use strict";t.r(n);var r=t(10),a=t.n(r)()(!0);a.push([e.i,"body {\n    margin: 0;\n    padding: 0;\n}\n\ntextarea:focus, input:focus{\n    outline: none;\n}\n\n.App__header {\n    height: 60px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: cornflowerblue;\n}\n\n.App__header-link {\n    margin: 20px;\n}\n.App__header-link:visited {\n    color: black;\n}\n","",{version:3,sources:["webpack://src/App.css"],names:[],mappings:"AAAA;IACI,SAAS;IACT,UAAU;AACd;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,YAAY;IACZ,WAAW;IACX,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,0BAA0B;AAC9B;;AAEA;IACI,YAAY;AAChB;AACA;IACI,YAAY;AAChB",sourcesContent:["body {\n    margin: 0;\n    padding: 0;\n}\n\ntextarea:focus, input:focus{\n    outline: none;\n}\n\n.App__header {\n    height: 60px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: cornflowerblue;\n}\n\n.App__header-link {\n    margin: 20px;\n}\n.App__header-link:visited {\n    color: black;\n}\n"],sourceRoot:""}]),n.default=a},41:function(e,n,t){var r=t(17),a=t(42);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},42:function(e,n,t){"use strict";t.r(n);var r=t(10),a=t.n(r)()(!0);a.push([e.i,".Search {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 20px 0;\n}\n\n.Search__inputRow {\n    display: flex;\n    margin-bottom: 20px;\n}\n\n.Search__input {\n    width: 500px;\n    height: 40px;\n    font-size: 14pt;\n}\n\n.Search__searchButton {\n    border: 1px solid black;\n    width: 80px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n}\n\n.Search__results {\n    display: flex;\n    flex-direction: column;\n    width: 500px;\n}\n\n.Search__resultRow {\n    margin-bottom: 10px;\n    padding-bottom: 10px;\n    display: flex;\n    flex-direction: column;\n    border-bottom: 1px solid black;\n}\n\n.Search__addToFavourites {\n    text-decoration: underline;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    width: 200px;\n}\n\n.Search__pages {\n    display: flex;\n    justify-content: space-evenly;\n    width: 100%;\n}\n\n.Search__page-link {\n    cursor: pointer;\n    text-decoration: underline;\n}","",{version:3,sources:["webpack://src/pages/Search/Search.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,YAAY;IACZ,YAAY;IACZ,eAAe;AACnB;;AAEA;IACI,uBAAuB;IACvB,WAAW;IACX,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,YAAY;AAChB;;AAEA;IACI,mBAAmB;IACnB,oBAAoB;IACpB,aAAa;IACb,sBAAsB;IACtB,8BAA8B;AAClC;;AAEA;IACI,0BAA0B;IAC1B,mBAAmB;IACnB,uBAAuB;IACvB,eAAe;IACf,YAAY;AAChB;;AAEA;IACI,aAAa;IACb,6BAA6B;IAC7B,WAAW;AACf;;AAEA;IACI,eAAe;IACf,0BAA0B;AAC9B",sourcesContent:[".Search {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 20px 0;\n}\n\n.Search__inputRow {\n    display: flex;\n    margin-bottom: 20px;\n}\n\n.Search__input {\n    width: 500px;\n    height: 40px;\n    font-size: 14pt;\n}\n\n.Search__searchButton {\n    border: 1px solid black;\n    width: 80px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n}\n\n.Search__results {\n    display: flex;\n    flex-direction: column;\n    width: 500px;\n}\n\n.Search__resultRow {\n    margin-bottom: 10px;\n    padding-bottom: 10px;\n    display: flex;\n    flex-direction: column;\n    border-bottom: 1px solid black;\n}\n\n.Search__addToFavourites {\n    text-decoration: underline;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    width: 200px;\n}\n\n.Search__pages {\n    display: flex;\n    justify-content: space-evenly;\n    width: 100%;\n}\n\n.Search__page-link {\n    cursor: pointer;\n    text-decoration: underline;\n}"],sourceRoot:""}]),n.default=a},64:function(e,n,t){var r=t(17),a=t(65);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},65:function(e,n,t){"use strict";t.r(n);var r=t(10),a=t.n(r)()(!0);a.push([e.i,".Favourites {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding-top: 30px;\n}\n\n.Favourites__list {\n    display: flex;\n    flex-direction: column;\n    width: 500px;\n}\n\n.Favourites__row {\n    margin-bottom: 10px;\n    padding-bottom: 10px;\n    display: flex;\n    flex-direction: column;\n    border-bottom: 1px solid black;\n}\n\n.Favourites__remove {\n    width: 150px;\n    cursor: pointer;\n    text-decoration: underline;\n}","",{version:3,sources:["webpack://src/pages/Favourites/Favourites.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,iBAAiB;AACrB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,YAAY;AAChB;;AAEA;IACI,mBAAmB;IACnB,oBAAoB;IACpB,aAAa;IACb,sBAAsB;IACtB,8BAA8B;AAClC;;AAEA;IACI,YAAY;IACZ,eAAe;IACf,0BAA0B;AAC9B",sourcesContent:[".Favourites {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding-top: 30px;\n}\n\n.Favourites__list {\n    display: flex;\n    flex-direction: column;\n    width: 500px;\n}\n\n.Favourites__row {\n    margin-bottom: 10px;\n    padding-bottom: 10px;\n    display: flex;\n    flex-direction: column;\n    border-bottom: 1px solid black;\n}\n\n.Favourites__remove {\n    width: 150px;\n    cursor: pointer;\n    text-decoration: underline;\n}"],sourceRoot:""}]),n.default=a},67:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(14),i=t.n(o),c=(t(39),t(13)),s=t(2),l=(t(41),t(11)),u=t(32),A=t.n(u);function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var f=Object(l.b)((function(e){return{searchResult:e.search.searchResult,isFetching:e.search.isFetching,page:e.search.page,errorMessage:e.search.errorMessage}}),(function(e){return{search:function(n,t){return e(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){t({type:"SEARCH_REQUEST",payload:{query:e,page:n}}),A()({method:"GET",url:"https://musicbrainz.org/ws/2/recording/",params:{fmt:"json",query:e,offset:25*n}}).then((function(e){t({type:"SEARCH_SUCCESS",payload:e})})).catch((function(e){t({type:"SEARCH_FAILURE",payload:e}),console.log(e)}))}}(n,t))},addToFavourites:function(n){return e(function(e){return{type:"ADD_TO_FAVOURITES",payload:e}}(n))}}}))((function(e){var n=p(Object(r.useState)(""),2),t=n[0],o=n[1],i=e.searchResult.map((function(n){return a.a.createElement("div",{className:"Search__resultRow",key:n.id},a.a.createElement("div",null,n["artist-credit"][0].name," -",n.title),a.a.createElement("div",{className:"Search__addToFavourites",onClick:function(){e.addToFavourites(n)}},"Add to favourites"))}));return a.a.createElement("div",{className:"Search"},a.a.createElement("div",{className:"Search__inputRow"},a.a.createElement("input",{className:"Search__input",value:t,onChange:function(e){o(e.target.value)},onKeyPress:function(n){"Enter"===n.key&&e.search(t)},placeholder:"Input album name"}),a.a.createElement("div",{className:"Search__searchButton",onClick:function(){e.search(t)}},"Search")),e.isFetching&&"loading",!!i.length&&a.a.createElement("div",null,a.a.createElement("div",{className:"Search__results"},i),a.a.createElement("div",{className:"Search__pages"},a.a.createElement("div",{className:"Search__page-link",onClick:function(){e.search(t,e.page-1)}},"prev page"),a.a.createElement("div",null,e.page+1),a.a.createElement("div",{className:"Search__page-link",onClick:function(){e.search(t,e.page+1)}},"next page"))),e.errorMessage&&a.a.createElement("div",null,e.errorMessage))}));t(64);var m=Object(l.b)((function(e){return{favourites:e.favourites.favourites}}),(function(e){return{removeFromFavourites:function(n){return e(function(e){return{type:"REMOVE_FROM_FAVOURITES",payload:e}}(n))},readFavourites:function(){return e({type:"READ_FAVOURITES"})}}}))((function(e){Object(r.useState)((function(){e.readFavourites()}),[]);var n=e.favourites.map((function(n){return a.a.createElement("div",{className:"Favourites__row",key:n.id},a.a.createElement("div",null,n["artist-credit"][0].name," -",n.title),a.a.createElement("div",{className:"Favourites__remove",onClick:function(){e.removeFromFavourites(n)}},"remove"))}));return a.a.createElement("div",{className:"Favourites"},a.a.createElement("div",{className:"Favourites__list"},n))}));var h=function(){return a.a.createElement(c.a,null,a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"App__header"},a.a.createElement("div",{className:"App__links"},a.a.createElement(c.b,{className:"App__header-link",to:"/search"},"Search"),a.a.createElement(c.b,{className:"App__header-link",to:"/favourites"},"Favourites"))),a.a.createElement(s.d,null,a.a.createElement(s.b,{path:"/search"},a.a.createElement(f,null)),a.a.createElement(s.b,{path:"/favourites",exact:!0},a.a.createElement(m,null)),a.a.createElement(s.b,{path:"/"},a.a.createElement(s.a,{to:"/search"}),";"))))},v=t(8);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){b(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var _={searchQuery:"",searchResult:[],isFetching:!1,page:0,errorMessage:null};function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){B(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function B(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function x(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return E(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var S={favourites:[]};var O=Object(v.c)({search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SEARCH_REQUEST":return y(y({},e),{},{isFetching:!0,searchQuery:n.payload.query,page:n.payload.page>0?n.payload.page:0,errorMessage:null});case"SEARCH_SUCCESS":var t=n.payload.data;return y(y({},e),{},{searchResult:t.recordings,isFetching:!1,errorMessage:null});case"SEARCH_FAILURE":var r="Something went wrong, please try again";return 400===n.payload.response.status&&(r="No results found for this query"),y(y({},e),{},{isFetching:!1,searchResult:[],errorMessage:r});default:return e}},favourites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_TO_FAVOURITES":if(!e.favourites.some((function(e){return e.id===n.payload.id}))){var t=[].concat(x(e.favourites),[n.payload]);return localStorage.setItem("favouriteAlbums",JSON.stringify(t)),I(I({},e),{},{favourites:t})}return I({},e);case"REMOVE_FROM_FAVOURITES":var r=e.favourites.filter((function(e){return e.id!==n.payload.id}));return localStorage.setItem("favouriteAlbums",JSON.stringify(r)),I(I({},e),{},{favourites:r});case"READ_FAVOURITES":var a=JSON.parse(localStorage.getItem("favouriteAlbums"));return I(I({},e),{},{favourites:a});default:return e}}}),w=t(33),j=t.n(w),F=t(34),R=Object(v.d)(O,Object(v.a)(F.a,j.a));i.a.render(a.a.createElement(l.a,{store:R},a.a.createElement(h,null)),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQXBwLmNzcz9kOWNkIiwid2VicGFjazovLy8uL3NyYy9BcHAuY3NzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9TZWFyY2gvU2VhcmNoLmNzcz8yNGIyIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9TZWFyY2gvU2VhcmNoLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvRmF2b3VyaXRlcy9GYXZvdXJpdGVzLmNzcz8wMmU0Iiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9GYXZvdXJpdGVzL0Zhdm91cml0ZXMuY3NzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9TZWFyY2gvU2VhcmNoLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvYWN0aW9ucy9zZWFyY2hBY3Rpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9hY3Rpb25zL2Zhdm91cml0ZXNBY3Rpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9GYXZvdXJpdGVzL0Zhdm91dGlyZXMuanN4Iiwid2VicGFjazovLy8uL3NyYy9BcHAuanN4Iiwid2VicGFjazovLy8uL3NyYy9yZWR1Y2Vycy9zZWFyY2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlZHVjZXJzL2Zhdm91cml0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlZHVjZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9zdG9yZS9jb25maWd1cmVTdG9yZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanN4Il0sIm5hbWVzIjpbImFwaSIsImNvbnRlbnQiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vZHVsZSIsImkiLCJvcHRpb25zIiwiZXhwb3J0cyIsImxvY2FscyIsIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsImNvbm5lY3QiLCJzdG9yZSIsInNlYXJjaFJlc3VsdCIsInNlYXJjaCIsImlzRmV0Y2hpbmciLCJwYWdlIiwiZXJyb3JNZXNzYWdlIiwiZGlzcGF0Y2giLCJxdWVyeSIsInR5cGUiLCJwYXlsb2FkIiwiYXhpb3MiLCJtZXRob2QiLCJ1cmwiLCJwYXJhbXMiLCJmbXQiLCJvZmZzZXQiLCJ0aGVuIiwicmVzcG9uc2UiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiYWRkVG9GYXZvdXJpdGVzIiwiaXRlbSIsInByb3BzIiwidXNlU3RhdGUiLCJzZWFyY2hGaWVsZCIsInNldFNlYXJjaEZpZWxkIiwibWFwIiwiY2xhc3NOYW1lIiwia2V5IiwiaWQiLCJuYW1lIiwidGl0bGUiLCJvbkNsaWNrIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJvbktleVByZXNzIiwicGxhY2Vob2xkZXIiLCJsZW5ndGgiLCJmYXZvdXJpdGVzIiwicmVtb3ZlRnJvbUZhdm91cml0ZXMiLCJyZWFkRmF2b3VyaXRlcyIsIkFwcCIsInRvIiwicGF0aCIsImV4YWN0IiwiaW5pdGlhbFN0YXRlIiwic2VhcmNoUXVlcnkiLCJyb290UmVkdWNlciIsImNvbWJpbmVSZWR1Y2VycyIsInN0YXRlIiwiYWN0aW9uIiwiZGF0YSIsInJlY29yZGluZ3MiLCJzdGF0dXMiLCJzb21lIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaWx0ZXIiLCJwYXJzZSIsImdldEl0ZW0iLCJjcmVhdGVTdG9yZSIsImFwcGx5TWlkZGxld2FyZSIsInRodW5rIiwibG9nZ2VyIiwiUmVhY3RET00iLCJyZW5kZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiNEVBQUEsSUFBSUEsRUFBTSxFQUFRLElBQ0ZDLEVBQVUsRUFBUSxJQUlDLGlCQUZ2QkEsRUFBVUEsRUFBUUMsV0FBYUQsRUFBUUUsUUFBVUYsS0FHL0NBLEVBQVUsQ0FBQyxDQUFDRyxFQUFPQyxFQUFJSixFQUFTLE1BRzlDLElBQUlLLEVBQVUsQ0FFZCxPQUFpQixPQUNqQixXQUFvQixHQUVQTixFQUFJQyxFQUFTSyxHQUkxQkYsRUFBT0csUUFBVU4sRUFBUU8sUUFBVSxJLGdDQ2xCbkMsbUJB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eC4xMWU5YmFkYzJjODNjNTE0MGJiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9BcHAuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18odHJ1ZSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJib2R5IHtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBwYWRkaW5nOiAwO1xcbn1cXG5cXG50ZXh0YXJlYTpmb2N1cywgaW5wdXQ6Zm9jdXN7XFxuICAgIG91dGxpbmU6IG5vbmU7XFxufVxcblxcbi5BcHBfX2hlYWRlciB7XFxuICAgIGhlaWdodDogNjBweDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBiYWNrZ3JvdW5kOiBjb3JuZmxvd2VyYmx1ZTtcXG59XFxuXFxuLkFwcF9faGVhZGVyLWxpbmsge1xcbiAgICBtYXJnaW46IDIwcHg7XFxufVxcbi5BcHBfX2hlYWRlci1saW5rOnZpc2l0ZWQge1xcbiAgICBjb2xvcjogYmxhY2s7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly9zcmMvQXBwLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLFNBQVM7SUFDVCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLFdBQVc7SUFDWCxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQiwwQkFBMEI7QUFDOUI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCO0FBQ0E7SUFDSSxZQUFZO0FBQ2hCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcImJvZHkge1xcbiAgICBtYXJnaW46IDA7XFxuICAgIHBhZGRpbmc6IDA7XFxufVxcblxcbnRleHRhcmVhOmZvY3VzLCBpbnB1dDpmb2N1c3tcXG4gICAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuLkFwcF9faGVhZGVyIHtcXG4gICAgaGVpZ2h0OiA2MHB4O1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGJhY2tncm91bmQ6IGNvcm5mbG93ZXJibHVlO1xcbn1cXG5cXG4uQXBwX19oZWFkZXItbGluayB7XFxuICAgIG1hcmdpbjogMjBweDtcXG59XFxuLkFwcF9faGVhZGVyLWxpbms6dmlzaXRlZCB7XFxuICAgIGNvbG9yOiBibGFjaztcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9TZWFyY2guY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18odHJ1ZSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIuU2VhcmNoIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgcGFkZGluZzogMjBweCAwO1xcbn1cXG5cXG4uU2VhcmNoX19pbnB1dFJvdyB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XFxufVxcblxcbi5TZWFyY2hfX2lucHV0IHtcXG4gICAgd2lkdGg6IDUwMHB4O1xcbiAgICBoZWlnaHQ6IDQwcHg7XFxuICAgIGZvbnQtc2l6ZTogMTRwdDtcXG59XFxuXFxuLlNlYXJjaF9fc2VhcmNoQnV0dG9uIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxuICAgIHdpZHRoOiA4MHB4O1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uU2VhcmNoX19yZXN1bHRzIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgd2lkdGg6IDUwMHB4O1xcbn1cXG5cXG4uU2VhcmNoX19yZXN1bHRSb3cge1xcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGJsYWNrO1xcbn1cXG5cXG4uU2VhcmNoX19hZGRUb0Zhdm91cml0ZXMge1xcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgd2lkdGg6IDIwMHB4O1xcbn1cXG5cXG4uU2VhcmNoX19wYWdlcyB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xcbiAgICB3aWR0aDogMTAwJTtcXG59XFxuXFxuLlNlYXJjaF9fcGFnZS1saW5rIHtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovL3NyYy9wYWdlcy9TZWFyY2gvU2VhcmNoLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLFlBQVk7SUFDWixlQUFlO0FBQ25COztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLFdBQVc7SUFDWCxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLHVCQUF1QjtJQUN2QixlQUFlO0FBQ25COztBQUVBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLG9CQUFvQjtJQUNwQixhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLDhCQUE4QjtBQUNsQzs7QUFFQTtJQUNJLDBCQUEwQjtJQUMxQixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLGVBQWU7SUFDZixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLDZCQUE2QjtJQUM3QixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsMEJBQTBCO0FBQzlCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5TZWFyY2gge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBwYWRkaW5nOiAyMHB4IDA7XFxufVxcblxcbi5TZWFyY2hfX2lucHV0Um93IHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcXG59XFxuXFxuLlNlYXJjaF9faW5wdXQge1xcbiAgICB3aWR0aDogNTAwcHg7XFxuICAgIGhlaWdodDogNDBweDtcXG4gICAgZm9udC1zaXplOiAxNHB0O1xcbn1cXG5cXG4uU2VhcmNoX19zZWFyY2hCdXR0b24ge1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG4gICAgd2lkdGg6IDgwcHg7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5TZWFyY2hfX3Jlc3VsdHMge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICB3aWR0aDogNTAwcHg7XFxufVxcblxcbi5TZWFyY2hfX3Jlc3VsdFJvdyB7XFxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XFxuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgYmxhY2s7XFxufVxcblxcbi5TZWFyY2hfX2FkZFRvRmF2b3VyaXRlcyB7XFxuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICB3aWR0aDogMjAwcHg7XFxufVxcblxcbi5TZWFyY2hfX3BhZ2VzIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XFxuICAgIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG4uU2VhcmNoX19wYWdlLWxpbmsge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0Zhdm91cml0ZXMuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18odHJ1ZSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIuRmF2b3VyaXRlcyB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIHBhZGRpbmctdG9wOiAzMHB4O1xcbn1cXG5cXG4uRmF2b3VyaXRlc19fbGlzdCB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIHdpZHRoOiA1MDBweDtcXG59XFxuXFxuLkZhdm91cml0ZXNfX3JvdyB7XFxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XFxuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgYmxhY2s7XFxufVxcblxcbi5GYXZvdXJpdGVzX19yZW1vdmUge1xcbiAgICB3aWR0aDogMTUwcHg7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxufVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly9zcmMvcGFnZXMvRmF2b3VyaXRlcy9GYXZvdXJpdGVzLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixvQkFBb0I7SUFDcEIsYUFBYTtJQUNiLHNCQUFzQjtJQUN0Qiw4QkFBOEI7QUFDbEM7O0FBRUE7SUFDSSxZQUFZO0lBQ1osZUFBZTtJQUNmLDBCQUEwQjtBQUM5QlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIuRmF2b3VyaXRlcyB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIHBhZGRpbmctdG9wOiAzMHB4O1xcbn1cXG5cXG4uRmF2b3VyaXRlc19fbGlzdCB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIHdpZHRoOiA1MDBweDtcXG59XFxuXFxuLkZhdm91cml0ZXNfX3JvdyB7XFxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XFxuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgYmxhY2s7XFxufVxcblxcbi5GYXZvdXJpdGVzX19yZW1vdmUge1xcbiAgICB3aWR0aDogMTUwcHg7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VTdGF0ZX0gZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL1NlYXJjaC5jc3MnO1xuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB7c2VhcmNofSBmcm9tIFwiLi4vLi4vYWN0aW9ucy9zZWFyY2hBY3Rpb25zXCI7XG5pbXBvcnQge2FkZFRvRmF2b3VyaXRlc30gZnJvbSBcIi4uLy4uL2FjdGlvbnMvZmF2b3VyaXRlc0FjdGlvbnNcIjtcblxuZnVuY3Rpb24gU2VhcmNoKHByb3BzKSB7XG4gICAgbGV0IFtzZWFyY2hGaWVsZCwgc2V0U2VhcmNoRmllbGRdID0gdXNlU3RhdGUoJycpO1xuXG4gICAgY29uc3QgaGFuZGxlSW5wdXRLZXlzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgcHJvcHMuc2VhcmNoKHNlYXJjaEZpZWxkKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0gcHJvcHMuc2VhcmNoUmVzdWx0Lm1hcCgoaXRlbSkgPT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9eydTZWFyY2hfX3Jlc3VsdFJvdyd9IGtleT17aXRlbS5pZH0+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIHtpdGVtWydhcnRpc3QtY3JlZGl0J11bMF0ubmFtZX0gLVxuICAgICAgICAgICAgICAgIHtpdGVtLnRpdGxlfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlNlYXJjaF9fYWRkVG9GYXZvdXJpdGVzXCJcbiAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgcHJvcHMuYWRkVG9GYXZvdXJpdGVzKGl0ZW0pXG4gICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIEFkZCB0byBmYXZvdXJpdGVzXG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cbiAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlNlYXJjaFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eydTZWFyY2hfX2lucHV0Um93J30+XG4gICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cIlNlYXJjaF9faW5wdXRcIiB2YWx1ZT17c2VhcmNoRmllbGR9XG4gICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VhcmNoRmllbGQoZS50YXJnZXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgIG9uS2V5UHJlc3M9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVJbnB1dEtleXMoZSlcbiAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9eydJbnB1dCBhbGJ1bSBuYW1lJ30vPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiU2VhcmNoX19zZWFyY2hCdXR0b25cIiBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnNlYXJjaChzZWFyY2hGaWVsZClcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgU2VhcmNoXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtwcm9wcy5pc0ZldGNoaW5nICYmICdsb2FkaW5nJ31cbiAgICAgICAgICAgIHshIXNlYXJjaFJlc3VsdC5sZW5ndGggJiZcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eydTZWFyY2hfX3Jlc3VsdHMnfT5cbiAgICAgICAgICAgICAgICAgICAge3NlYXJjaFJlc3VsdH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiU2VhcmNoX19wYWdlc1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlNlYXJjaF9fcGFnZS1saW5rXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnNlYXJjaChzZWFyY2hGaWVsZCwgcHJvcHMucGFnZSAtIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2IHBhZ2VcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cHJvcHMucGFnZSArIDF9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlNlYXJjaF9fcGFnZS1saW5rXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnNlYXJjaChzZWFyY2hGaWVsZCwgcHJvcHMucGFnZSArIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0IHBhZ2VcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHtwcm9wcy5lcnJvck1lc3NhZ2UgJiZcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAge3Byb3BzLmVycm9yTWVzc2FnZX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICApXG59XG5cbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IGRpc3BhdGNoID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWFyY2g6IChxdWVyeSwgcGFnZSkgPT4gZGlzcGF0Y2goc2VhcmNoKHF1ZXJ5LCBwYWdlKSksXG4gICAgICAgIGFkZFRvRmF2b3VyaXRlczogaXRlbSA9PiBkaXNwYXRjaChhZGRUb0Zhdm91cml0ZXMoaXRlbSkpXG4gICAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBzdG9yZSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VhcmNoUmVzdWx0OiBzdG9yZS5zZWFyY2guc2VhcmNoUmVzdWx0LFxuICAgICAgICBpc0ZldGNoaW5nOiBzdG9yZS5zZWFyY2guaXNGZXRjaGluZyxcbiAgICAgICAgcGFnZTogc3RvcmUuc2VhcmNoLnBhZ2UsXG4gICAgICAgIGVycm9yTWVzc2FnZTogc3RvcmUuc2VhcmNoLmVycm9yTWVzc2FnZVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoU2VhcmNoKVxuIiwiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuXG5leHBvcnQgY29uc3QgU0VBUkNIX1JFUVVFU1QgPSAnU0VBUkNIX1JFUVVFU1QnXG5leHBvcnQgY29uc3QgU0VBUkNIX1NVQ0NFU1MgPSAnU0VBUkNIX1NVQ0NFU1MnXG5leHBvcnQgY29uc3QgU0VBUkNIX0ZBSUxVUkUgPSAnU0VBUkNIX0ZBSUxVUkUnXG5cbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2gocXVlcnksIHBhZ2UgPSAwKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe3R5cGU6IFNFQVJDSF9SRVFVRVNULCBwYXlsb2FkOiB7cXVlcnksIHBhZ2V9fSlcbiAgICAgICAgYXhpb3Moe1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIHVybDogYGh0dHBzOi8vbXVzaWNicmFpbnoub3JnL3dzLzIvcmVjb3JkaW5nL2AsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBmbXQ6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHBhZ2UgKiAyNVxuICAgICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFNFQVJDSF9TVUNDRVNTLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFNFQVJDSF9GQUlMVVJFLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IGVycixcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgIH0pXG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEFERF9UT19GQVZPVVJJVEVTID0gJ0FERF9UT19GQVZPVVJJVEVTJ1xuZXhwb3J0IGNvbnN0IFJFTU9WRV9GUk9NX0ZBVk9VUklURVMgPSAnUkVNT1ZFX0ZST01fRkFWT1VSSVRFUydcbmV4cG9ydCBjb25zdCBSRUFEX0ZBVk9VUklURVMgPSAnUkVBRF9GQVZPVVJJVEVTJ1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkVG9GYXZvdXJpdGVzKGl0ZW0pIHtcbiAgICByZXR1cm4ge3R5cGU6IEFERF9UT19GQVZPVVJJVEVTLCBwYXlsb2FkOiBpdGVtfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRnJvbUZhdm91cml0ZXMoaXRlbSkge1xuICAgIHJldHVybiB7dHlwZTogUkVNT1ZFX0ZST01fRkFWT1VSSVRFUywgcGF5bG9hZDogaXRlbX1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRGYXZvdXJpdGVzKCkge1xuICAgIHJldHVybiB7dHlwZTogUkVBRF9GQVZPVVJJVEVTfVxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGV9IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9GYXZvdXJpdGVzLmNzcyc7XG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHtyZWFkRmF2b3VyaXRlcywgcmVtb3ZlRnJvbUZhdm91cml0ZXN9IGZyb20gXCIuLi8uLi9hY3Rpb25zL2Zhdm91cml0ZXNBY3Rpb25zXCI7XG5cbmZ1bmN0aW9uIEZhdm91cml0ZXMocHJvcHMpIHtcblxuICAgIHVzZVN0YXRlKCgpID0+IHtcbiAgICAgICAgcHJvcHMucmVhZEZhdm91cml0ZXMoKVxuICAgIH0sIFtdKVxuXG4gICAgY29uc3QgZmF2b3VyaXRlcyA9IHByb3BzLmZhdm91cml0ZXMubWFwKChpdGVtKSA9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17J0Zhdm91cml0ZXNfX3Jvdyd9IGtleT17aXRlbS5pZH0+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIHtpdGVtWydhcnRpc3QtY3JlZGl0J11bMF0ubmFtZX0gLVxuICAgICAgICAgICAgICAgIHtpdGVtLnRpdGxlfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkZhdm91cml0ZXNfX3JlbW92ZVwiXG4gICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgIHByb3BzLnJlbW92ZUZyb21GYXZvdXJpdGVzKGl0ZW0pXG4gICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIHJlbW92ZVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiRmF2b3VyaXRlc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eydGYXZvdXJpdGVzX19saXN0J30+XG4gICAgICAgICAgICAgICAge2Zhdm91cml0ZXN9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKVxufVxuXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSBkaXNwYXRjaCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVtb3ZlRnJvbUZhdm91cml0ZXM6IGl0ZW0gPT4gZGlzcGF0Y2gocmVtb3ZlRnJvbUZhdm91cml0ZXMoaXRlbSkpLFxuICAgICAgICByZWFkRmF2b3VyaXRlczogKCkgPT4gZGlzcGF0Y2gocmVhZEZhdm91cml0ZXMoKSlcbiAgICB9XG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IHN0b3JlID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBmYXZvdXJpdGVzOiBzdG9yZS5mYXZvdXJpdGVzLmZhdm91cml0ZXMsXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShGYXZvdXJpdGVzKVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9BcHAuY3NzJztcbmltcG9ydCB7QnJvd3NlclJvdXRlciBhcyBSb3V0ZXIsIFJvdXRlLCBSZWRpcmVjdCwgU3dpdGNofSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHtMaW5rfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IFNlYXJjaCBmcm9tICcuL3BhZ2VzL1NlYXJjaC9TZWFyY2gnO1xuaW1wb3J0IEZhdm91cml0ZXMgZnJvbSBcIi4vcGFnZXMvRmF2b3VyaXRlcy9GYXZvdXRpcmVzXCI7XG5cbmZ1bmN0aW9uIEFwcCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Um91dGVyPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBcHBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFwcF9faGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQXBwX19saW5rc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgY2xhc3NOYW1lPXsnQXBwX19oZWFkZXItbGluayd9IHRvPVwiL3NlYXJjaFwiPlNlYXJjaDwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIGNsYXNzTmFtZT17J0FwcF9faGVhZGVyLWxpbmsnfSB0bz1cIi9mYXZvdXJpdGVzXCI+RmF2b3VyaXRlczwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPFN3aXRjaD5cbiAgICAgICAgICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvc2VhcmNoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VhcmNoLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Sb3V0ZT5cbiAgICAgICAgICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvZmF2b3VyaXRlc1wiIGV4YWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZhdm91cml0ZXMvPlxuICAgICAgICAgICAgICAgICAgICA8L1JvdXRlPlxuICAgICAgICAgICAgICAgICAgICA8Um91dGUgcGF0aD1cIi9cIiA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UmVkaXJlY3QgdG89XCIvc2VhcmNoXCIvPjtcbiAgICAgICAgICAgICAgICAgICAgPC9Sb3V0ZT5cbiAgICAgICAgICAgICAgICA8L1N3aXRjaD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1JvdXRlcj5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcFxuIiwiY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgIHNlYXJjaFF1ZXJ5OiAnJyxcbiAgICBzZWFyY2hSZXN1bHQ6IFtdLFxuICAgIGlzRmV0Y2hpbmc6IGZhbHNlLFxuICAgIHBhZ2U6IDAsXG4gICAgZXJyb3JNZXNzYWdlOiBudWxsXG59XG5cbmltcG9ydCB7XG4gICAgU0VBUkNIX1JFUVVFU1QsXG4gICAgU0VBUkNIX1NVQ0NFU1MsXG4gICAgU0VBUkNIX0ZBSUxVUkUsXG59IGZyb20gJy4uL2FjdGlvbnMvc2VhcmNoQWN0aW9ucydcblxuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaFJlZHVjZXIoc3RhdGUgPSBpbml0aWFsU3RhdGUsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBTRUFSQ0hfUkVRVUVTVDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgaXNGZXRjaGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzZWFyY2hRdWVyeTogYWN0aW9uLnBheWxvYWQucXVlcnksXG4gICAgICAgICAgICAgICAgcGFnZTogYWN0aW9uLnBheWxvYWQucGFnZSA+IDAgPyBhY3Rpb24ucGF5bG9hZC5wYWdlIDogMCxcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IG51bGxcbiAgICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIFNFQVJDSF9TVUNDRVNTOiB7XG4gICAgICAgICAgICBsZXQgc2VhcmNoUmVzdWx0ID0gYWN0aW9uLnBheWxvYWQuZGF0YTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0OlxuICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdC5yZWNvcmRpbmdzLFxuICAgICAgICAgICAgICAgIGlzRmV0Y2hpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBTRUFSQ0hfRkFJTFVSRTpcbiAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSAnU29tZXRoaW5nIHdlbnQgd3JvbmcsIHBsZWFzZSB0cnkgYWdhaW4nXG4gICAgICAgICAgICBpZiAoYWN0aW9uLnBheWxvYWQucmVzcG9uc2Uuc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnTm8gcmVzdWx0cyBmb3VuZCBmb3IgdGhpcyBxdWVyeSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgaXNGZXRjaGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0OiBbXSxcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2VcbiAgICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxufVxuIiwiY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgIGZhdm91cml0ZXM6IFtdXG59XG5cbmltcG9ydCB7QUREX1RPX0ZBVk9VUklURVMsIFJFTU9WRV9GUk9NX0ZBVk9VUklURVMsIFJFQURfRkFWT1VSSVRFU30gZnJvbSAnLi4vYWN0aW9ucy9mYXZvdXJpdGVzQWN0aW9ucydcblxuZXhwb3J0IGZ1bmN0aW9uIGZhdm91cml0ZXNSZWR1Y2VyKHN0YXRlID0gaW5pdGlhbFN0YXRlLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgQUREX1RPX0ZBVk9VUklURVM6XG4gICAgICAgICAgICBpZiAoIXN0YXRlLmZhdm91cml0ZXMuc29tZShpdGVtID0+IGl0ZW0uaWQgPT09IGFjdGlvbi5wYXlsb2FkLmlkKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZhdm91cml0ZXMgPSBbLi4uc3RhdGUuZmF2b3VyaXRlcywgYWN0aW9uLnBheWxvYWRdO1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYXZvdXJpdGVBbGJ1bXMnLCBKU09OLnN0cmluZ2lmeShmYXZvdXJpdGVzKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsuLi5zdGF0ZSwgZmF2b3VyaXRlc31cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7Li4uc3RhdGV9XG5cbiAgICAgICAgY2FzZSBSRU1PVkVfRlJPTV9GQVZPVVJJVEVTOiB7XG4gICAgICAgICAgICBjb25zdCBmYXZvdXJpdGVzID0gc3RhdGUuZmF2b3VyaXRlcy5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pZCAhPT0gYWN0aW9uLnBheWxvYWQuaWQ7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Zhdm91cml0ZUFsYnVtcycsIEpTT04uc3RyaW5naWZ5KGZhdm91cml0ZXMpKTtcbiAgICAgICAgICAgIHJldHVybiB7Li4uc3RhdGUsIGZhdm91cml0ZXN9XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlIFJFQURfRkFWT1VSSVRFUzoge1xuICAgICAgICAgICAgY29uc3QgZmF2b3VyaXRlcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Zhdm91cml0ZUFsYnVtcycpKTtcbiAgICAgICAgICAgIHJldHVybiB7Li4uc3RhdGUsIGZhdm91cml0ZXN9XG4gICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgeyBzZWFyY2hSZWR1Y2VyIH0gZnJvbSAnLi9zZWFyY2gnXG5pbXBvcnQge2Zhdm91cml0ZXNSZWR1Y2VyfSBmcm9tIFwiLi9mYXZvdXJpdGVzXCI7XG5cbmV4cG9ydCBjb25zdCByb290UmVkdWNlciA9IGNvbWJpbmVSZWR1Y2Vycyh7XG4gICAgc2VhcmNoOiBzZWFyY2hSZWR1Y2VyLFxuICAgIGZhdm91cml0ZXM6IGZhdm91cml0ZXNSZWR1Y2VyXG59KSIsImltcG9ydCB7YXBwbHlNaWRkbGV3YXJlLCBjcmVhdGVTdG9yZX0gZnJvbSAncmVkdXgnXG5pbXBvcnQgeyByb290UmVkdWNlciB9IGZyb20gJy4uL3JlZHVjZXJzJ1xuaW1wb3J0IGxvZ2dlciBmcm9tICdyZWR1eC1sb2dnZXInXG5pbXBvcnQgdGh1bmsgZnJvbSAncmVkdXgtdGh1bmsnXG5cbmV4cG9ydCBjb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJvb3RSZWR1Y2VyLCBhcHBseU1pZGRsZXdhcmUodGh1bmssIGxvZ2dlcikpXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgQXBwIGZyb20gJy4vQXBwJztcbmltcG9ydCB7UHJvdmlkZXJ9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7c3RvcmV9IGZyb20gJy4vc3RvcmUvY29uZmlndXJlU3RvcmUnXG5cblJlYWN0RE9NLnJlbmRlcihcbiAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgICAgICAgPEFwcC8+XG4gICAgPC9Qcm92aWRlcj4sXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKVxuKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=